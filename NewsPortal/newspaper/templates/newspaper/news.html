{% extends 'newspaper/default.html' %}

{% block title %}Новости{% endblock title %}

{% load custom_filters %}

{% block content %}
<h2>Количество новостей: {{ filter.qs|length }}</h2>
<form method="GET">
    {{ filter.form }}
    <input type="submit" value="Найти">
</form>
<br>
<table>
    <tr>
        <td>
            Заголовок
        </td>
        <td>
            Дата публикации
        </td>
        <td>
            Текст
        </td>
        <td>
            Автор
        </td>
    </tr>
    {% for n in news %}
    <tr>
        {% filter censor %}
        <td>
            <a href="{{ n.id }}">{{ n.head }}</a>
        </td>
        <td>
            {{ n.datetime|date:'d-m-y H:i' }}
        </td>
        <td>
            {{ n.text|truncatechars:50 }}
        </td>
        <td>
            {{ n.author.user.username }}
        </td>
        {% endfilter %}
    </tr>
    {% endfor %}
</table>
<br>

{% include 'paginator.html' %}

{% endblock content %}

